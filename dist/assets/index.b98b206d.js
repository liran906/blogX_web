import{d as A,p as M,l as U,b,J as x,r as _,o as r,e as c,h as n,f as a,w as t,n as V,u,t as i,k as o,F as E,c as f,am as z,an as N,a6 as L,i as v,j as $,m as S,M as y,s as R}from"./index.dd10940c.js";import{_ as q,F as K}from"./f_main.a6403ad3.js";import{u as P}from"./user_base_store.522a6093.js";import{F as T}from"./f_a.916cbf94.js";import{f as j,a as J}from"./focus_api.affffa4c.js";import{g as G}from"./go_router.453cbad0.js";import{_ as H}from"./f_avatar.vue_vue_type_script_setup_true_lang.98550a10.js";/* empty css                                                 */import"./f_theme.vue_vue_type_script_setup_true_lang.51af512e.js";import"./_plugin-vue_export-helper.cdc0426e.js";const O={class:"user_info"},Q={class:"avatar"},W={class:"info"},X={class:"nick"},Y={class:"data"},Z={class:"place"},h={class:"actions"},ss={class:"user_sub_view"},es={class:"head"},us={class:"left"},ns={class:"body"},Bs=A({__name:"index",setup(ts){const F=M(),m=U(),e=P(),C=b("");async function k(){S.push({name:m.name,query:{...m.query,key:C.value},params:m.params})}async function g(d){if(!F.isLogin){y.warning("\u8BF7\u767B\u5F55"),R({reload:!0});return}let s;if(d?s=await j({focusUserID:e.userBase.userID}):s=await J({focusUserID:e.userBase.userID}),s.code){y.error(s.msg);return}y.success(s.msg),e.getUserBaseInfo(e.userBase.userID)}return x(()=>m.params.id,()=>{const d=Number(m.params.id);isNaN(d)||e.getUserBaseInfo(d)},{immediate:!0}),(d,s)=>{const D=_("a-tag"),p=_("a-button"),l=_("router-link"),I=_("a-input-search"),w=_("router-view");return r(),c("div",{class:V(["user_view",`user_style_${u(e).userBase.themeID}`])},[s[17]||(s[17]=n("div",{class:"banner"},null,-1)),a(q,{"no-scroll":""}),a(K,null,{default:t(()=>[n("div",O,[n("div",Q,[a(H,{onClick:s[0]||(s[0]=B=>u(G)(u(e).userBase.userID)),size:65,"image-url":u(e).userBase.avatarURL,nickname:u(e).userBase.nickname},null,8,["image-url","nickname"])]),n("div",W,[n("div",X,[n("span",null,i(u(e).userBase.nickname),1),a(D,null,{default:t(()=>[o("\u7AD9\u9F84"+i(u(e).userBase.siteAge)+"\u5E74",1)]),_:1})]),n("div",Y,[n("span",null,[n("span",null,i(u(e).userBase.homePageVisitCount),1),s[4]||(s[4]=o()),s[5]||(s[5]=n("span",null,"\u603B\u8BBF\u95EE\u91CF",-1))]),n("span",null,[n("span",null,i(u(e).userBase.articleCount),1),s[6]||(s[6]=o()),s[7]||(s[7]=n("span",null,"\u6587\u7AE0",-1))]),n("span",null,[n("span",null,i(u(e).userBase.fansCount),1),s[8]||(s[8]=o()),s[9]||(s[9]=n("span",null,"\u7C89\u4E1D",-1))]),n("span",null,[n("span",null,i(u(e).userBase.followingCount),1),s[10]||(s[10]=o()),s[11]||(s[11]=n("span",null,"\u5173\u6CE8",-1))])]),n("div",Z,"ip\u5F52\u5C5E\uFF1A "+i(u(e).userBase.ipLocation),1)]),n("div",h,[u(e).userBase.userID!=u(F).userInfo.userID?(r(),c(E,{key:0},[a(T,null,{default:t(()=>[u(e).userBase.relation===2||u(e).userBase.relation===4?(r(),f(p,{key:1,onClick:s[2]||(s[2]=B=>g(!1)),size:"mini",type:"primary"},{icon:t(()=>[a(u(N))]),default:t(()=>[s[13]||(s[13]=o(" \u5DF2\u5173\u6CE8 "))]),_:1,__:[13]})):(r(),f(p,{key:0,onClick:s[1]||(s[1]=B=>g(!0)),size:"mini",type:"outline"},{icon:t(()=>[a(u(z))]),default:t(()=>[s[12]||(s[12]=o(" \u5173\u6CE8 "))]),_:1,__:[12]}))]),_:1}),a(l,{to:""},{default:t(()=>[a(p,{size:"mini",type:"outline"},{icon:t(()=>[a(u(L))]),default:t(()=>[s[14]||(s[14]=o(" \u79C1\u4FE1"))]),_:1,__:[14]})]),_:1})],64)):(r(),c(E,{key:1},[a(l,{to:{name:"userCenterInfo"}},{default:t(()=>[a(p,{size:"mini",type:"outline"},{default:t(()=>s[15]||(s[15]=[o("\u7F16\u8F91\u8D44\u6599")])),_:1,__:[15]})]),_:1}),a(l,{to:{name:"platformArticle"}},{default:t(()=>[a(p,{size:"mini",type:"outline"},{default:t(()=>s[16]||(s[16]=[o("\u7BA1\u7406\u535A\u6587")])),_:1,__:[16]})]),_:1})],64))])]),n("div",ss,[n("div",es,[n("div",us,[a(l,{to:{name:"userArticle"}},{default:t(()=>[o(i(u(e).isMe?"\u6211\u7684\u6587\u7AE0":"\u4ED6\u7684\u6587\u7AE0"),1)]),_:1}),u(e).isMe||u(e).userBase.displayCollections?(r(),f(l,{key:0,to:{name:"userArticleCollect"}},{default:t(()=>[o(i(u(e).isMe?"\u6211\u7684\u6536\u85CF":"\u4ED6\u7684\u6536\u85CF"),1)]),_:1})):v("",!0),u(e).isMe||u(e).userBase.displayFollowing?(r(),f(l,{key:1,to:{name:"userFocusList"}},{default:t(()=>[o(i(u(e).isMe?"\u6211\u7684\u5173\u6CE8":"\u4ED6\u7684\u5173\u6CE8"),1)]),_:1})):v("",!0),u(e).isMe||u(e).userBase.displayFans?(r(),f(l,{key:2,to:{name:"userFansList"}},{default:t(()=>[o(i(u(e).isMe?"\u6211\u7684\u7C89\u4E1D":"\u4ED6\u7684\u7C89\u4E1D"),1)]),_:1})):v("",!0)]),a(I,{modelValue:C.value,"onUpdate:modelValue":s[3]||(s[3]=B=>C.value=B),onKeydown:$(k,["enter"]),onSearch:k,placeholder:"\u641CTA\u7684\u5185\u5BB9"},null,8,["modelValue"])]),n("div",ns,[a(w)])])]),_:1})],2)}}});export{Bs as default};
