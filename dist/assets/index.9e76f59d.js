import{d as M,p as U,l as b,b as x,H as V,r as d,o as i,e as C,h as t,f as a,w as n,n as z,u,t as r,k as o,F as k,c as f,am as N,an as L,a5 as S,i as y,j as $,m as R,M as c,s as q}from"./index.540d1321.js";import{_ as K,F as P}from"./f_main.50b204ba.js";import{u as T}from"./user_base_store.cbc0b599.js";import{F as j}from"./f_a.317cc10b.js";import{f as H,a as G}from"./focus_api.e91578e9.js";import{g as J}from"./go_router.eb15e96d.js";import"./f_theme.vue_vue_type_script_setup_true_lang.4cd9696b.js";import"./_plugin-vue_export-helper.cdc0426e.js";const O={class:"user_info"},Q={class:"avatar"},W={class:"info"},X={class:"nick"},Y={class:"data"},Z={class:"place"},h={class:"actions"},ss={class:"user_sub_view"},es={class:"head"},us={class:"left"},ts={class:"body"},_s=M({__name:"index",setup(ns){const F=U(),m=b(),e=T(),v=x("");async function g(){R.push({name:m.name,query:{...m.query,key:v.value},params:m.params})}async function E(p){if(!F.isLogin){c.warning("\u8BF7\u767B\u5F55"),q({reload:!0});return}let s;if(p?s=await H({focusUserID:e.userBase.userID}):s=await G({focusUserID:e.userBase.userID}),s.code){c.error(s.msg);return}c.success(s.msg),e.getUserBaseInfo(e.userBase.userID)}return V(()=>m.params.id,()=>{const p=Number(m.params.id);isNaN(p)||e.getUserBaseInfo(p)},{immediate:!0}),(p,s)=>{const D=d("a-avatar"),I=d("a-tag"),_=d("a-button"),l=d("router-link"),w=d("a-input-search"),A=d("router-view");return i(),C("div",{class:z(["user_view",`user_style_${u(e).userBase.themeID}`])},[s[17]||(s[17]=t("div",{class:"banner"},null,-1)),a(K,{"no-scroll":""}),a(P,null,{default:n(()=>[t("div",O,[t("div",Q,[a(D,{onClick:s[0]||(s[0]=B=>u(J)(u(e).userBase.userID)),size:65,"image-url":u(e).userBase.avatarURL},null,8,["image-url"])]),t("div",W,[t("div",X,[t("span",null,r(u(e).userBase.nickname),1),a(I,null,{default:n(()=>[o("\u7AD9\u9F84"+r(u(e).userBase.siteAge)+"\u5E74",1)]),_:1})]),t("div",Y,[t("span",null,[t("span",null,r(u(e).userBase.homePageVisitCount),1),s[4]||(s[4]=o()),s[5]||(s[5]=t("span",null,"\u603B\u8BBF\u95EE\u91CF",-1))]),t("span",null,[t("span",null,r(u(e).userBase.articleCount),1),s[6]||(s[6]=o()),s[7]||(s[7]=t("span",null,"\u6587\u7AE0",-1))]),t("span",null,[t("span",null,r(u(e).userBase.fansCount),1),s[8]||(s[8]=o()),s[9]||(s[9]=t("span",null,"\u7C89\u4E1D",-1))]),t("span",null,[t("span",null,r(u(e).userBase.followingCount),1),s[10]||(s[10]=o()),s[11]||(s[11]=t("span",null,"\u5173\u6CE8",-1))])]),t("div",Z,"ip\u5F52\u5C5E\uFF1A "+r(u(e).userBase.ipLocation),1)]),t("div",h,[u(e).userBase.userID!=u(F).userInfo.userID?(i(),C(k,{key:0},[a(j,null,{default:n(()=>[u(e).userBase.relation===2||u(e).userBase.relation===4?(i(),f(_,{key:1,onClick:s[2]||(s[2]=B=>E(!1)),size:"mini",type:"primary"},{icon:n(()=>[a(u(L))]),default:n(()=>[s[13]||(s[13]=o(" \u5DF2\u5173\u6CE8 "))]),_:1,__:[13]})):(i(),f(_,{key:0,onClick:s[1]||(s[1]=B=>E(!0)),size:"mini",type:"outline"},{icon:n(()=>[a(u(N))]),default:n(()=>[s[12]||(s[12]=o(" \u5173\u6CE8 "))]),_:1,__:[12]}))]),_:1}),a(l,{to:""},{default:n(()=>[a(_,{size:"mini",type:"outline"},{icon:n(()=>[a(u(S))]),default:n(()=>[s[14]||(s[14]=o(" \u79C1\u4FE1"))]),_:1,__:[14]})]),_:1})],64)):(i(),C(k,{key:1},[a(l,{to:{name:"userCenterInfo"}},{default:n(()=>[a(_,{size:"mini",type:"outline"},{default:n(()=>s[15]||(s[15]=[o("\u7F16\u8F91\u8D44\u6599")])),_:1,__:[15]})]),_:1}),a(l,{to:{name:"platformArticle"}},{default:n(()=>[a(_,{size:"mini",type:"outline"},{default:n(()=>s[16]||(s[16]=[o("\u7BA1\u7406\u535A\u6587")])),_:1,__:[16]})]),_:1})],64))])]),t("div",ss,[t("div",es,[t("div",us,[a(l,{to:{name:"userArticle"}},{default:n(()=>[o(r(u(e).isMe?"\u6211\u7684\u6587\u7AE0":"\u4ED6\u7684\u6587\u7AE0"),1)]),_:1}),u(e).isMe||u(e).userBase.displayCollections?(i(),f(l,{key:0,to:{name:"userArticleCollect"}},{default:n(()=>[o(r(u(e).isMe?"\u6211\u7684\u6536\u85CF":"\u4ED6\u7684\u6536\u85CF"),1)]),_:1})):y("",!0),u(e).isMe||u(e).userBase.displayFollowing?(i(),f(l,{key:1,to:{name:"userFocusList"}},{default:n(()=>[o(r(u(e).isMe?"\u6211\u7684\u5173\u6CE8":"\u4ED6\u7684\u5173\u6CE8"),1)]),_:1})):y("",!0),u(e).isMe||u(e).userBase.displayFans?(i(),f(l,{key:2,to:{name:"userFansList"}},{default:n(()=>[o(r(u(e).isMe?"\u6211\u7684\u7C89\u4E1D":"\u4ED6\u7684\u7C89\u4E1D"),1)]),_:1})):y("",!0)]),a(w,{modelValue:v.value,"onUpdate:modelValue":s[3]||(s[3]=B=>v.value=B),onKeydown:$(g,["enter"]),onSearch:g,placeholder:"\u641CTA\u7684\u5185\u5BB9"},null,8,["modelValue"])]),t("div",ts,[a(A)])])]),_:1})],2)}}});export{_s as default};
