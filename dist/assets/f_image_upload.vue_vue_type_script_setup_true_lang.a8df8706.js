import{d as V,p as k,r as t,o as v,e as C,f as l,w as x,n as S,u as s,M as c}from"./index.2bfdadc6.js";const b={class:"f_image_upload"},I=V({__name:"f_image_upload",props:{modelValue:{},placeholder:{},shape:{},width:{},height:{}},emits:["update:modelValue"],setup(i,{emit:r}){const p=k(),a=i,{shape:d="circle",width:u=60,height:m=60}=a,n=r;function h(o){n("update:modelValue",o)}function _(o){const e=JSON.parse(o.response);if(e.code){c.error(e.msg);return}c.success(e.msg),n("update:modelValue",e.data)}return(o,e)=>{const f=t("a-input"),g=t("a-image"),w=t("a-upload");return v(),C("div",b,[l(f,{"model-value":a.modelValue,placeholder:a.placeholder,onInput:h},null,8,["model-value","placeholder"]),l(w,{"show-file-list":!1,action:"/api/images",onSuccess:_,name:"file",headers:{token:s(p).userInfo.token}},{"upload-button":x(()=>[l(g,{src:a.modelValue,preview:!1,class:S(s(d)),width:s(u),height:s(m)},null,8,["src","class","width","height"])]),_:1},8,["headers"])])}}});export{I as _};
