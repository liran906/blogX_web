import{q as D,d as g,p as O,a as E,N as R,r as U,o as _,e as p,h as n,t as m,u as M,i as L,f as a,k as f,M as x,x as I,c as N,w as v,g as A,F as b,m as j,H as w,a8 as $,n as P,A as F}from"./index.2bfdadc6.js";import{_ as z}from"./f_component.vue_vue_type_script_setup_true_lang.762199da.js";import{d as G}from"./date.a44b248f.js";import{_ as y}from"./f_title.vue_vue_type_style_index_0_lang.0dc1471c.js";import{i as S}from"./index.f06bc9c3.js";function H(){return D.get("/api/data/sum")}function V(d,u){return D.get("/api/data/growth",{params:{type:d,interval:u}})}function T(){return D.get("/api/data/os")}const W={class:"f_welcome"},J={class:"title"},K={key:0,class:"weather"},Q={class:"statistics"},X={key:1,class:"extra"},Y=g({__name:"f_welcome",props:{noWeather:{type:Boolean},noHelp:{type:Boolean}},setup(d){const u=d,t=O(),i=E({flowCount:0,clickCount:0,userCount:0,articleCount:0,messageCount:0,commentCount:0,newLoginCount:0,newSignCount:0});async function l(){const o=await H();if(o.code){x.error(o.msg);return}Object.assign(i,o.data)}l();const e=E({province:"\u6C5F\u82CF",city:"\u5357\u4EAC\u5E02",adcode:"210000",weather:"\u6674",temperature:"32",winddirection:"\u897F\u5357",windpower:"\u22643",humidity:"55",reporttime:"2024-05-26 14:01:47",temperature_float:"34.0",humidity_float:"55.0"}),r=R(()=>{const o=Number(e.temperature);return o>40?"\u5929\u6C14\u708E\u70ED\uFF0C\u6CE8\u610F\u907F\u6691":o>30?"\u5929\u6C14\u8F83\u70ED\uFF0C\u591A\u5728\u9634\u51C9\u51FA\u4F11\u606F":o>10?"\u5929\u6C14\u4E0D\u9519\uFF0C\u9002\u5408\u5DE5\u4F5C":o>0?"\u5929\u6C14\u8F83\u51B7\uFF0C\u591A\u7A7F\u70B9\u8863\u670D":"\u5929\u6C14\u5F88\u51B7\uFF0C\u6CE8\u610F\u4FDD\u6696"}),c=R(()=>{const s=new Date().getHours();return s<9&&s>=6?"\u65E9\u5B89":s>=9&&s<12?"\u4E0A\u5348\u597D":s>=12&&s<14?"\u4E2D\u5348\u597D":s>=14&&s<16?"\u4E0B\u5348\u597D":s>=16&&s<20?"\u508D\u665A\u597D":s>=20&&s<24?"\u665A\u5B89":"\u65E9\u5B89"});return(o,s)=>{const h=U("a-statistic");return _(),p("div",W,[n("div",J,m(c.value)+" "+m(M(t).userInfo.nickName)+"\uFF0C\u8BF7\u5F00\u59CB\u4E00\u5929\u7684\u5DE5\u4F5C\u5427",1),u.noWeather?L("",!0):(_(),p("div",K,m(e.province)+" \xB7 "+m(e.city)+" \u4ECA\u65E5 "+m(e.weather)+"\uFF0C"+m(e.temperature)+"\u2103\uFF0C"+m(r.value),1)),n("div",Q,[a(h,{animation:"",title:"\u4ECA\u65E5\u8BBF\u95EE",value:i.flowCount,"show-group-separator":""},null,8,["value"]),a(h,{animation:"",title:"\u4ECA\u65E5\u70B9\u51FB",value:i.clickCount,"show-group-separator":""},null,8,["value"]),a(h,{animation:"",title:"\u7528\u6237\u603B\u6570",value:i.userCount,"show-group-separator":""},null,8,["value"]),a(h,{animation:"",title:"\u6587\u7AE0\u603B\u6570",value:i.articleCount,"show-group-separator":""},null,8,["value"]),a(h,{animation:"",title:"\u6D88\u606F\u603B\u6570",value:i.messageCount,"show-group-separator":""},null,8,["value"]),a(h,{animation:"",title:"\u8BC4\u8BBA\u603B\u6570",value:i.commentCount,"show-group-separator":""},null,8,["value"]),a(h,{animation:"",title:"\u4ECA\u65E5\u767B\u5F55",value:i.newLoginCount,"show-group-separator":""},null,8,["value"]),a(h,{animation:"",title:"\u4ECA\u65E5\u6CE8\u518C",value:i.newSignCount,"show-group-separator":""},null,8,["value"])]),u.noHelp?L("",!0):(_(),p("div",X,s[0]||(s[0]=[f(" \u6B22\u8FCE\u4F7F\u7528Admin\u540E\u53F0\u7CFB\u7EDF\uFF0C\u53EF\u67E5\u770B "),n("a",{href:""},"\u7CFB\u7EDF\u5E2E\u52A9",-1),f(" \u4EE5\u4FBF\u66F4\u597D\u7684\u4F7F\u7528\u672C\u7CFB\u7EDF ")])))])}}});const Z={class:"f_card"},tt={class:"title"},et={class:"body"},q=g({__name:"f_card",props:{title:{}},setup(d){const u=d;return(t,i)=>(_(),p("div",Z,[n("div",tt,m(u.title),1),n("div",et,[I(t.$slots,"default")])]))}});const ut={class:"item"},ot=["onClick"],st={class:"label"},at=g({__name:"f_quick_entrance",setup(d){const u=[{label:"\u7528\u6237\u5217\u8868",icon:"iconfont icon-list",name:"userList"},{label:"\u6587\u7AE0\u5217\u8868",icon:"iconfont icon-navicon-wzgl",name:"articleList"},{label:"\u7F51\u7AD9\u8BBE\u7F6E",icon:"iconfont icon-wangzhan",name:"siteManageSite"},{label:"AI\u8BBE\u7F6E",icon:"iconfont icon-wuguan",name:"siteManageAi"},{label:"Banner\u8BBE\u7F6E",icon:"iconfont icon-banner",name:"bannerList"},{label:"\u65E5\u5FD7\u5217\u8868",icon:"iconfont icon-xitongrizhi",name:"logList"}];function t(i){j.push({name:i.name})}return(i,l)=>(_(),N(q,{title:"\u5FEB\u6377\u5165\u53E3",class:"f_quick_entrance"},{default:v(()=>[(_(),p(b,null,A(u,e=>n("div",ut,[n("div",{class:"icon",onClick:r=>t(e)},[a(z,{is:e.icon},null,8,["is"])],8,ot),n("div",st,m(e.label),1)])),64))]),_:1}))}});const nt={class:"item"},it={class:"version_head"},rt={class:"index"},lt={class:"label"},ct={class:"date"},_t={key:0,class:"version_items"},dt=g({__name:"f_version",setup(d){const u=[{title:"\u5341\u4EE3\u535A\u5BA2",date:"2025-06-23",items:["\u7BA1\u7406\u5458\u53EF\u4EE5\u5207\u6362\u8FD0\u884C\u6A21\u5F0F\uFF0C\u793E\u533A\u3001\u535A\u5BA2\u6A21\u5F0F","\u7AD9\u5185\u4FE1","\u7528\u6237\u79C1\u4FE1","\u6536\u85CF\u5939","\u6587\u7AE0AI","\u524D\u7AEF\u81EA\u52A8\u5237\u65B0","\u4E00\u952E\u90E8\u7F72"]},{title:"\u7B2C\u4E00\u4EE3\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF\u8BDE\u751F\u4E86",date:"2025-05-26",items:["\u666E\u901A\u6743\u9650\u7BA1\u7406\u6A21\u5F0F","\u5B9A\u5236\u4E3B\u9898"]}];return(t,i)=>(_(),N(q,{title:"\u66F4\u65B0\u65E5\u5FD7",class:"f_version"},{default:v(()=>[(_(),p(b,null,A(u,(l,e)=>{var r;return n("div",nt,[n("div",it,[n("span",rt,m(e+1)+".",1),n("span",lt,m(l.title),1),n("span",ct,m(M(G)(l.date)),1)]),(r=l.items)!=null&&r.length?(_(),p("ul",_t,[(_(!0),p(b,null,A(l.items,c=>(_(),p("li",null,m(c),1))),256))])):L("",!0)])}),64))]),_:1}))}});const pt=g({__name:"echarts_v1",props:{class:{},countList:{},dateList:{},growthRateList:{}},setup(d){const u=d;let t=null;function i(){const l=getComputedStyle(document.body).getPropertyValue("--color-text-1"),e=getComputedStyle(document.body).getPropertyValue("--color-neutral-2");let r=["#1c5ae0","#15c5be"];F.value==="dark"&&(r=["#1c5ae0","#15c5be"]);const c=[{name:"\u6570\u503C",data:u.countList,type:"line",smooth:!0}];u.growthRateList&&u.growthRateList.length&&c.push({name:"\u589E\u957F\u7387",data:u.growthRateList,type:"line",smooth:!0,yAxisIndex:1});const o={color:r,xAxis:{type:"category",data:u.dateList,show:!0,axisLine:{show:!0,lineStyle:{color:e}},axisLabel:{show:!0,color:l}},grid:{left:"4%",right:"4%",bottom:"3%",top:"3%",containLabel:!0},yAxis:[{type:"value",axisLabel:{show:!1},splitLine:{lineStyle:{color:e}},axisLine:{show:!0,lineStyle:{color:e}}},{type:"value",axisLabel:{show:!1},splitLine:{show:!1},axisLine:{show:!0,lineStyle:{color:e}}}],tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},series:c,legend:{show:!1}};t==null||t.setOption(o)}return w(()=>u.dateList,i),w(()=>F.value,i),$(()=>{const l=document.querySelector("."+u.class);l&&(t=S(l),i())}),(l,e)=>(_(),p("div",{class:P(["echarts_v1",u.class])},null,2))}});const mt={class:"f_charts_v1_com"},C=g({__name:"f_home_charts_v1",props:{type:{}},setup(d){const u=d,t=E({dateList:[],countList:[],growthRateList:[],growthNum:0,growthRate:0});async function i(){const e=await V(u.type,1);if(e.code){x.error(e.msg);return}const{valueMap:r,growthMap:c,growthRateMap:o}=e.data;t.dateList=Object.keys(r),t.countList=t.dateList.map(B=>r[B]);const s=t.dateList[t.dateList.length-1];t.growthNum=c[s]||0;const h=o[s]||"0%";t.growthRate=l(h),t.growthRateList=t.dateList.map(B=>{const k=o[B];return k?l(k):0})}function l(e){return!e||e==="0%"?0:e==="infinite%"?100:parseFloat(e.replace("%",""))}return i(),(e,r)=>(_(),p("div",mt,[a(pt,{class:P(`growth_${u.type}`),"count-list":t.countList,"date-list":t.dateList,"growth-rate-list":t.growthRateList},null,8,["class","count-list","date-list","growth-rate-list"])]))}});const ht={class:"user_login_echarts"},gt=g({__name:"echarts_v2",setup(d){let u=null;const t=E({dateList:[],countList:[],growthRateList:[]});async function i(){const e=await V(3,3);if(e.code){x.error(e.msg);return}const{valueMap:r,growthRateMap:c}=e.data;t.dateList=Object.keys(r),t.countList=t.dateList.map(o=>r[o]),t.growthRateList=t.dateList.map(o=>{const s=c[o]||"0%";return s==="infinite%"?100:parseFloat(s.replace("%",""))})}function l(){let e;const r=getComputedStyle(document.body).getPropertyValue("--color-text-1"),c=getComputedStyle(document.body).getPropertyValue("--color-neutral-2");let o=["#1c5ae0","#15c5be"];F.value==="dark"&&(o=["#1c5ae0","#15c5be"]),e={color:o,tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},grid:{left:"2%",right:"2%",bottom:"3%",top:"10%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:t.dateList,axisLine:{lineStyle:{color:c}},axisLabel:{color:r}}],yAxis:[{type:"value",splitLine:{lineStyle:{color:c}},axisLine:{lineStyle:{color:c}},axisLabel:{color:r}},{type:"value",splitLine:{show:!1},axisLine:{lineStyle:{color:c}},axisLabel:{color:r,formatter:"{value}%"}}],series:[{name:"\u6587\u7AE0\u6570\u91CF",type:"line",areaStyle:{},emphasis:{focus:"series"},data:t.countList,smooth:!0},{name:"\u589E\u957F\u7387",type:"line",yAxisIndex:1,data:t.growthRateList,smooth:!0}]},e&&(u==null||u.setOption(e))}return $(async()=>{await i();const e=document.querySelector(".user_login_echarts");u=S(e),l()}),w(()=>F.value,()=>{l()}),(e,r)=>(_(),p("div",ht))}});const ft={class:"data_computer"},vt=g({__name:"echarts_v3",setup(d){let u=null;const t=E({cpuUsage:0,memUsage:0,diskUsage:0});async function i(){const e=await T();if(e.code){x.error(e.msg);return}Object.assign(t,e.data)}function l(){let e;getComputedStyle(document.body).getPropertyValue("--color-text-1");const r=getComputedStyle(document.body).getPropertyValue("--color-neutral-2");let c=["#1c5ae0","#15c5be"];F.value==="dark"&&(c=["#1c5ae0","#15c5be"]),e={color:c,tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:o=>{const s=o[0];return`<div>
<div>${s.name}</div>
<div>${s.seriesName} ${s.data.toFixed(1)}%</div>
</div>`}},grid:{left:"3%",right:"10%",bottom:"3%",top:"5%",containLabel:!0},xAxis:{type:"value",min:0,max:100,axisLabel:{formatter:"{value}%"},splitLine:{lineStyle:{color:r}}},yAxis:{type:"category",data:["CPU","\u5185\u5B58","\u78C1\u76D8"]},series:[{name:"\u4F7F\u7528\u7387",type:"bar",data:[t.cpuUsage,t.memUsage,t.diskUsage],label:{show:!0,formatter:function(o){return o.data.toFixed(1)+"%"}}}]},e&&(u==null||u.setOption(e))}return $(async()=>{await i();const e=document.querySelector(".data_computer");u=S(e),l()}),w(()=>F.value,()=>{l()}),(e,r)=>(_(),p("div",ft))}});const yt={class:"home_view"},Ft={class:"left"},Et={class:"charts charts_4"},Ct={class:"item"},wt={class:"item"},xt={class:"item"},Bt={class:"item"},Lt={class:"charts charts_2"},At={class:"item"},bt={class:"body"},Dt={class:"item"},$t={class:"body"},St={class:"right"},Vt=g({__name:"index",setup(d){return(u,t)=>(_(),p("div",yt,[n("div",Ft,[a(Y),n("div",Et,[n("div",Ct,[a(y,{type:2},{default:v(()=>t[0]||(t[0]=[f("\u8BBF\u95EE\u4EBA\u6570")])),_:1,__:[0]}),a(C,{type:1})]),n("div",wt,[a(y,{type:2},{default:v(()=>t[1]||(t[1]=[f("\u70B9\u51FB\u91CF")])),_:1,__:[1]}),a(C,{type:2})]),n("div",xt,[a(y,{type:2},{default:v(()=>t[2]||(t[2]=[f("\u65B0\u589E\u6587\u7AE0")])),_:1,__:[2]}),a(C,{type:3})]),n("div",Bt,[a(y,{type:2},{default:v(()=>t[3]||(t[3]=[f("\u65B0\u589E\u7528\u6237")])),_:1,__:[3]}),a(C,{type:4})])]),n("div",Lt,[n("div",At,[a(y,{type:2},{default:v(()=>t[4]||(t[4]=[f("\u5E74\u5EA6\u6587\u7AE0\u53D1\u5E03\u60C5\u51B5")])),_:1,__:[4]}),n("div",bt,[a(gt)])]),n("div",Dt,[a(y,{type:2},{default:v(()=>t[5]||(t[5]=[f("\u7CFB\u7EDF\u8D44\u6E90")])),_:1,__:[5]}),n("div",$t,[a(vt)])])])]),n("div",St,[a(at),a(dt)])]))}});export{Vt as default};
