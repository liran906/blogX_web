import{u as I}from"./user_center_store.8170be6a.js";import{s as F}from"./f_update_password.9bdf5887.js";import{d as D,a as x,b as k,o as d,c as y,w as u,e as f,f as s,u as t,R as w,k as _,S as M,i as g,U as N,V as R,W as S,X as j,Y as L,M as b,Z as O,$ as P,a0 as T,r as B,h as A,t as U,L as h}from"./index.59b2a34b.js";import{_ as q}from"./f_card.vue_vue_type_style_index_0_lang.b053ae0a.js";const W={key:0},X={key:1},Y=D({__name:"f_update_email",props:{visible:{type:Boolean}},emits:["update:visible","destruction"],setup(v,{emit:a}){const m=v,r=a,i=x({emailID:"",emailCode:""}),e=k();function p(){r("update:visible",!1)}const o=k(1);function C(l){i.emailID=l,o.value=2}async function E(){if(await e.value.validate())return!1;const n=await L(i);return n.code?(b.error(n.msg),!1):(b.success(n.msg),r("update:visible",!1),setTimeout(()=>{r("destruction")},1e3),!0)}return(l,n)=>(d(),y(t(j),{width:"400px",title:"\u7ED1\u5B9A\u90AE\u7BB1",visible:m.visible,onCancel:p},{footer:u(()=>[o.value===2?(d(),f("div",W,[s(t(w),{onClick:p},{default:u(()=>n[1]||(n[1]=[_("\u53D6\u6D88")])),_:1,__:[1]}),s(t(w),{type:"primary",onClick:E},{default:u(()=>n[2]||(n[2]=[_("\u786E\u5B9A")])),_:1,__:[2]})])):(d(),f("div",X))]),default:u(()=>[o.value===1?(d(),y(M,{key:0,type:3,onOk:C})):g("",!0),o.value===2?(d(),y(t(N),{key:1,model:i,ref_key:"formRef",ref:e,"label-col-props":{span:7},"wrapper-col-props":{span:17}},{default:u(()=>[s(t(R),{label:"\u90AE\u7BB1\u9A8C\u8BC1\u7801",field:"emailCode","validate-trigger":"blur",rules:[{required:!0}]},{default:u(()=>[s(t(S),{placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u9A8C\u8BC1\u7801",modelValue:i.emailCode,"onUpdate:modelValue":n[0]||(n[0]=$=>i.emailCode=$)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])):g("",!0)]),_:1},8,["visible"]))}}),c=k(void 0);function V(){if(c.value===void 0){const v=D({render:()=>O(Y,{visible:c.value,"onUpdate:visible":()=>{c.value=!1},onDestruction(){var r;a.unmount(),(r=document.getElementById("email_100"))==null||r.remove(),c.value=void 0}})}),a=P(v),m=document.createElement("div");m.id="email_100",a.mount(m),document.body.append(m)}c.value=!0}const Z={class:"user_center_account_view"},z={key:0},G={key:1},H={class:"col"},te=D({__name:"account",setup(v){const a=I(),m=x({});T(()=>{a.getUserDetail()});async function r(i,e){const p={};p[i]=e;const o=await h(p);if(o.code){b.error(o.msg);return}b.success(o.msg),await a.getUserDetail()}return(i,e)=>{const p=B("a-switch"),o=B("a-form-item"),C=B("router-link"),E=B("a-form");return d(),f("div",Z,[s(q,{title:"\u8D26\u53F7\u8BBE\u7F6E"},{default:u(()=>[s(E,{model:m,"label-col-props":{span:2}},{default:u(()=>[s(o,{label:"\u8BA2\u9605\u62A5\u544A"},{help:u(()=>e[4]||(e[4]=[_("\u8BA2\u9605\u540E\u60A8\u5C06\u6536\u5230\u7F51\u7AD9\u4F1A\u81EA\u52A8\u53D1\u9001\u6BCF\u65E5\u5206\u6790\u62A5\u544A\u81F3\u60A8\u7684\u90AE\u7BB1")])),default:u(()=>[s(p,{modelValue:t(a).userDetail.subscribe,"onUpdate:modelValue":e[0]||(e[0]=l=>t(a).userDetail.subscribe=l),onChange:e[1]||(e[1]=l=>r("subscribe",l))},null,8,["modelValue"])]),_:1}),s(o,{label:"\u5BC6\u7801"},{default:u(()=>[t(a).userDetail.hasPassword?(d(),f("span",z,[e[5]||(e[5]=A("span",{class:"col",style:{color:"var(--color-text-1)"}},"******",-1)),e[6]||(e[6]=_()),A("a",{href:"javascript:void 0",onClick:e[2]||(e[2]=(...l)=>t(F)&&t(F)(...l))}," \u4FEE\u6539\u5BC6\u7801")])):(d(),f("span",G,"\u672A\u542F\u7528"))]),_:1}),s(o,{label:"\u90AE\u7BB1",style:{color:"var(--color-text-1)"}},{default:u(()=>[A("span",H,U(t(a).userDetail.email),1),A("a",{href:"javascript:void 0",onClick:e[3]||(e[3]=(...l)=>t(V)&&t(V)(...l))},U(t(a).userDetail.email===""?"\u7ED1\u5B9A\u90AE\u7BB1":"\u4FEE\u6539\u90AE\u7BB1"),1)]),_:1}),s(o,{label:"\u767B\u5F55\u8BB0\u5F55"},{default:u(()=>[s(C,{to:{name:"userCenterLoginRecord"}},{default:u(()=>e[7]||(e[7]=[_("\u67E5\u770B\u8BB0\u5F55")])),_:1,__:[7]})]),_:1})]),_:1},8,["model"])]),_:1})])}}});export{te as default};
