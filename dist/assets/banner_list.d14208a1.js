import{_ as E}from"./f_list.vue_vue_type_style_index_0_lang.5f6e8d51.js";import{a as N,b as D}from"./banner_api.2e2439d7.js";import{d as k,p as U,r as n,o as p,e as _,f as a,w as o,n as I,u as f,b as y,a as L,M as F,k as C,t as $}from"./index.9eeaf65c.js";/* empty css                                                       */import{d as M}from"./options.350c5c55.js";import{_ as O}from"./f_cover_cutter.vue_vue_type_script_setup_true_lang.3600bc82.js";import"./date.9497e3eb.js";import"./image_api.ebe2d486.js";import"./_plugin-vue_export-helper.cdc0426e.js";const R={class:"f_image_upload"},S=k({__name:"f_banner_upload",props:{modelValue:{},placeholder:{},shape:{},width:{},height:{}},emits:["update:modelValue"],setup(g,{emit:c}){U();const s=g,{shape:r="circle",width:e=60,height:h=60}=s,d=c;function v(t){d("update:modelValue",t)}function u(t){d("update:modelValue",t)}return(t,i)=>{const b=n("a-input"),m=n("a-image");return p(),_("div",R,[a(b,{"model-value":s.modelValue,placeholder:s.placeholder,onInput:v},null,8,["model-value","placeholder"]),a(O,{onOk:u,rate:"4:1"},{default:o(()=>[a(m,{src:s.modelValue,preview:!1,class:I(f(r)),width:f(e),height:f(h)},null,8,["src","class","width","height"])]),_:1})])}}});const T=["href"],z={key:1},X=k({__name:"banner_list",setup(g){const c=[{title:"ID",dataIndex:"id"},{title:"\u56FE\u7247",slotName:"url"},{title:"\u8DF3\u8F6C\u5730\u5740",slotName:"href"},{title:"\u662F\u5426\u663E\u793A",slotName:"activated"},{title:"\u7C7B\u578B",dataIndex:"type",type:"options",options:M},{title:"\u65F6\u95F4",slotName:"createdAt"},{title:"\u64CD\u4F5C",slotName:"action"}],s=y(!1),r=y(),e=L({url:"",href:"",activated:!0,type:1});function h(){e.id=void 0,e.url="",e.href="",e.activated=!0,e.type=1,s.value=!0}function d(u){e.id=u.id,e.url=u.url,e.href=u.href,e.type=u.type,s.value=!0}async function v(){const u=await N(e);return u.code?(F.error(u.msg),!1):(F.success(u.msg),r.value.getList(),!0)}return(u,t)=>{const i=n("a-form-item"),b=n("a-input"),m=n("a-switch"),V=n("a-radio"),w=n("a-radio-group"),x=n("a-form"),A=n("a-modal"),B=n("a-image");return p(),_("div",null,[a(A,{visible:s.value,"onUpdate:visible":t[4]||(t[4]=l=>s.value=l),title:e.id?"\u66F4\u65B0banner":"\u521B\u5EFAbanner","on-before-ok":v},{default:o(()=>[a(x,{model:e},{default:o(()=>[a(i,{label:"\u5C01\u9762"},{default:o(()=>[a(S,{modelValue:e.url,"onUpdate:modelValue":t[0]||(t[0]=l=>e.url=l),shape:"",placeholder:"banner\u5C01\u9762",height:60},null,8,["modelValue"])]),_:1}),a(i,{label:"\u8DF3\u8F6C\u5730\u5740"},{default:o(()=>[a(b,{placeholder:"\u8DF3\u8F6C\u5730\u5740",modelValue:e.href,"onUpdate:modelValue":t[1]||(t[1]=l=>e.href=l)},null,8,["modelValue"])]),_:1}),a(i,{label:"\u662F\u5426\u663E\u793A"},{default:o(()=>[a(m,{modelValue:e.activated,"onUpdate:modelValue":t[2]||(t[2]=l=>e.activated=l)},null,8,["modelValue"])]),_:1}),a(i,{label:"\u7C7B\u578B"},{default:o(()=>[a(w,{modelValue:e.type,"onUpdate:modelValue":t[3]||(t[3]=l=>e.type=l)},{default:o(()=>[a(V,{value:1},{default:o(()=>t[5]||(t[5]=[C("banner")])),_:1,__:[5]}),a(V,{value:2},{default:o(()=>t[6]||(t[6]=[C("\u63A8\u5E7F")])),_:1,__:[6]})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title"]),a(E,{ref_key:"fListRef",ref:r,onAdd:h,onEdit:d,url:f(D),columns:c},{url:o(({record:l})=>[a(B,{src:l.url,height:"50px"},null,8,["src"])]),activated:o(({record:l})=>[a(m,{"model-value":l.activated,disabled:!0},null,8,["model-value"])]),href:o(({record:l})=>[l.href?(p(),_("a",{key:0,href:l.href,target:"_blank"},$(l.href),9,T)):(p(),_("span",z,"-"))]),_:1},8,["url"])])}}});export{X as default};
